(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{223:function(e,t,n){e.exports=n.p+"static/media/background.ca53060c.jpg"},243:function(e,t,n){e.exports=n(406)},248:function(e,t,n){},283:function(e,t){},285:function(e,t){},324:function(e,t){},325:function(e,t){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"submitLoginForm",function(){return B}),n.d(a,"getCurrentUser",function(){return Y});var r=n(0),o=n.n(r),c=n(13),i=n.n(c),u=(n(248),n(67)),l=n(41),s=n(130),m=n(108),p=n(131),d=n(109),f=n(53),g=n(94),h=n(468),E=n(451),b=n(464),O=n(452),y=n(407),v=n(450),j=n(230),w=n.n(j),C=n(95),T=n(223),k=n.n(T),S=n(14),N=function(e){return{type:"CURRENT_USER_LOADING",payload:e}},_=n(157),R=n.n(_),x=n(19),U=n(226),D=n(24),I=n.n(D),A=n(227),P=n.n(A),L=(n(279),n(228)),F=n.n(L),q=function(e){var t=G(),n=t.jwtAccessToken,a=t.jwtRefreshToken,r=t.jwtRefreshTokenExpireTime;return n?H(n,a,r,e)?z(a):n:null},W=function(e){var t=e.jwtAccessToken,n=e.jwtRefreshToken,a=e.jwtRefreshTokenExpireDate;window.localStorage.setItem("jwt_access_token",t),window.localStorage.setItem("jwt_refresh_token",n),window.localStorage.setItem("jwt_refresh_token_expire",a)},G=function(){return{jwtAccessToken:window.localStorage.getItem("jwt_access_token"),jwtRefreshToken:window.localStorage.getItem("jwt_refresh_token"),jwtRefreshTokenExpireTime:window.localStorage.getItem("jwt_refresh_token_expire")}},H=function(e,t,n,a){var r=1e3*F.a.decode(e).exp,o=(new Date).getTime();return o>r-a&&n-a>o&&t},z=function(e){return M.sendRequest("api/auth/refresh",{method:"POST",data:{jwtRefreshToken:e}}).then(function(e){return W(e),e.jwtAccessToken}).catch(function(){return window.localStorage.clear(),null})},M=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"getBlob",value:function(e,t){return this.makeRequest(e,"get",null,t,"blob")}},{key:"get",value:function(e,t){return this.makeRequest(e,"get",null,t)}},{key:"post",value:function(e,t,n){return this.makeRequest(e,"post",t,n)}},{key:"postFile",value:function(e,t,n,a){return this.makeRequest(e,"post",t,n,null,a)}},{key:"put",value:function(e,t,n){return this.makeRequest(e,"put",t,n)}},{key:"delete",value:function(e,t){return this.makeRequest(e,"delete",null,t)}},{key:"makeRequest",value:function(){var e=Object(U.a)(R.a.mark(function e(t,n,a,r,o,c){var i,u;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i={method:n||"get",data:a,params:Object(x.a)({},r||{}),responseType:o,onUploadProgress:function(e){c&&c(Math.round(100*e.loaded/e.total))}}).timeout=6e4,"post"!==n&&"put"!==n||(i.headers={"Content-Type":"application/json"}),e.next=5,q(6e4);case 5:return(u=e.sent)&&(i.headers={Authorization:"Bearer ".concat(u)}),e.abrupt("return",this.sendRequest(t,i));case 8:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,o,c){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e,t){var n=this;return new Promise(function(a,r){P()(e,t).then(function(e){return a(e.data)}).catch(function(e){401===e.response.status&&window.localStorage.clear(),n.requestFailed(e),r(e)})})}},{key:"requestFailed",value:function(e){e.message?D.toastr.error(e.message,e.response&&e.response.data&&e.response.data.message):D.toastr.error("Error","An error has occurred")}}]),e}()),B=function(e,t,n){return function(a){e.preventDefault(),a(N(!0));var r={email:t,password:n};return M.post("/api/auth",r).then(function(e){return W(e),a(Y())}).catch(function(e){a(N(!1)),window.localStorage.clear(),D.toastr.error("Login error",e.response.data.message)})}},Y=function(){return function(e){return e(N(!0)),M.get("/api/users/current").then(function(t){return e({type:"CURRENT_USER_FETCHED",payload:t})}).catch(function(e){return D.toastr.error("Error",e)}).finally(function(){e(N(!1))})}},V={currentUser:null,isCurrentUserLoading:!0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER_FETCHED":return Object(x.a)({},e,{currentUser:t.payload});case"CURRENT_USER_LOADING":return Object(x.a)({},e,{isCurrentUserLoading:t.payload});default:return Object(x.a)({},e)}},X=n(449),$=n(39),K=n.n($),Q=K()(function(e){return{preloader:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",backgroundColor:e.palette.background.default}}}),Z=function(e){var t=Q();return o.a.createElement("div",{className:t.preloader},o.a.createElement(X.a,null))},ee=K()(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(k.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},imageWrapper:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",backgroundColor:"rgba(0, 0, 0, 0.7)"},imageTitle:{margin:"0 0 0 150px",color:"white",fontSize:"40px",fontWeight:700},imageText:{margin:"0 0 0 150px",color:"white",fontSize:"25px"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},forgot:{margin:e.spacing(0,0,2)}}}),te=function(e){var t=Object(r.useState)(""),n=Object(g.a)(t,2),c=n[0],i=n[1],u=Object(r.useState)(""),l=Object(g.a)(u,2),s=l[0],m=l[1],p=ee(),d=Object(S.useSelector)(function(e){return e.users.currentUser}),j=Object(S.useSelector)(function(e){return e.users.isCurrentUserLoading}),T=Object(S.useDispatch)();return j?o.a.createElement(Z,null):d?o.a.createElement(f.a,{to:"/"}):o.a.createElement(v.a,{container:!0,className:p.root},o.a.createElement(v.a,{item:!0,xs:1,sm:6,md:8,lg:9,className:p.image},o.a.createElement("div",{className:p.imageWrapper},o.a.createElement("h2",{className:p.imageTitle},"Sport statistic application!"))),o.a.createElement(v.a,{item:!0,xs:11,sm:6,md:4,lg:3,component:y.a,elevation:6,square:!0},o.a.createElement("div",{className:p.paper},o.a.createElement(h.a,{className:p.avatar},o.a.createElement(w.a,null)),o.a.createElement(C.a,{component:"h1",variant:"h5"},"Login to your account"),o.a.createElement("form",{className:p.form,noValidate:!0,onSubmit:function(e){return function(e,t,n){return T(a.submitLoginForm(e,t,n))}(e,c,s)}},o.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"email",autoFocus:!0,onChange:function(e){return i(e.target.value)},value:c}),o.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return m(e.target.value)},value:s}),o.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:c.length<3||s.length<3,className:p.submit},"Sign In"),o.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"secondary",className:p.forgot},"Forgot Password"),o.a.createElement(v.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(v.a,{item:!0},o.a.createElement(O.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up")))))))},ne=n(466),ae=n(460),re=n(461),oe=n(462),ce=n(408),ie=n(65),ue=n.n(ie),le=n(234),se=n.n(le),me=n(453),pe=n(454),de=n(455),fe="VIEW",ge=n(232),he=n.n(ge),Ee=function(e,t){return e.permissions.includes(t)},be=n(20),Oe=(n(402),K()({link:{color:"inherit",textDecoration:"none"}})),ye=function(e){var t=e.to,n=e.children,a=Oe();return o.a.createElement(be.c,{to:t,className:a.link,color:"secondary"},n)},ve=function(e){return{type:"CATEGORY_SPORTS_LOADING",payload:e}},je=function(e){return{type:"TOURNAMENTS_LOADING",payload:e}},we=function(e){return function(t){t(function(e){return{type:"CATEGORY_SPORTS_CHOICE",payload:e}}(e)),t(function(e){return function(t){t(je(!0)),M.get("/api/tournaments/sport/"+e).then(function(e){t({type:"TOURNAMENTS_FETCHED",payload:e})}).catch(function(e){return D.toastr.error("Error",e)}).finally(function(){t(je(!1))})}}(e))}},Ce=function(e){var t=Object(S.useSelector)(function(e){return e.sportsCategory.sportsCategory}),n=Object(S.useSelector)(function(e){return e.users.currentUser}),a=Object(S.useDispatch)();return t?t.map(function(e){return Ee(n,fe)&&o.a.createElement(ye,{to:"/sport/"+e.title,key:"id_"+e.id,id:e.id},o.a.createElement(me.a,{button:!0,alignItems:"center",onClick:function(){return t=e.id,void a(we(t));var t}},o.a.createElement(pe.a,null,o.a.createElement(he.a,null)),o.a.createElement(de.a,{primary:e.title})))}):null},Te=(Object(f.g)(Ce),n(456)),ke=K()(function(e){return{colorPrimary:{backgroundColor:e.palette.primary.light,height:"8px"},barColorPrimary:{backgroundColor:e.palette.primary.dark}}}),Se=function(){var e=ke();return o.a.createElement("div",null,o.a.createElement(Te.a,{classes:{colorPrimary:e.colorPrimary,barColorPrimary:e.barColorPrimary}}))},Ne=function(e){var t=Object(S.useDispatch)(),n=Object(r.useState)(!1),a=Object(g.a)(n,2),c=a[0],i=a[1],u=Object(S.useSelector)(function(e){return e.tournaments.isTournamentsLoading}),l=Object(S.useSelector)(function(e){return e.tournaments.tournaments}),s=Object(S.useSelector)(function(e){return e.sportsCategory.sportsCategory});return Object(r.useEffect)(function(){if(u&&!l&&s){var n=s.find(function(t){return t.title===e.match.params.id});n?t(we(n.id)):i(!0)}},[u,l,s,e.match.params.id,t]),c?o.a.createElement(f.a,{to:"/"}):o.a.createElement(o.a.Fragment,null,u?o.a.createElement(Se,null):o.a.createElement("div",null,"We in sports component info;"))},_e=(n(403),function(){return o.a.createElement("div",{id:"notfound"},o.a.createElement("div",{className:"notfound"},o.a.createElement("div",{className:"notfound-bg"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)),o.a.createElement("h1",{className:"notfound_header"},"oops!"),o.a.createElement("span",{className:"notfound_text"},"Error 404 : Page Not Found"),o.a.createElement(be.b,{className:"notfound_goback",to:"/"},"go back"),o.a.createElement("div",{className:"notfound-social"},o.a.createElement(be.b,{to:"#"},o.a.createElement("i",{className:"fab fa-facebook"})),o.a.createElement(be.b,{to:"#"},o.a.createElement("i",{className:"fab fa-twitter"})),o.a.createElement(be.b,{to:"#"},o.a.createElement("i",{className:"fab fa-google-plus"})))))}),Re=function(){return o.a.createElement(o.a.Fragment,null,"Home Page!")},xe=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"/",component:Re}),o.a.createElement(Ue,{authorized:Ee(e,fe),path:"/sport/:id",component:Ne}),o.a.createElement(f.b,{path:"*",component:_e}))}}]),t}(r.Component),Ue=function(e){var t=e.component,n=e.authorized,a=Object(d.a)(e,["component","authorized"]);return o.a.createElement(f.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(f.b,Object.assign({component:t},e)):o.a.createElement(f.a,{to:"/login"})}}))},De=Object(f.g)(Object(S.connect)(function(e){return{user:e.users.currentUser}})(xe)),Ie=n(457),Ae=n(467),Pe=n(458),Le=n(459),Fe=n(233),qe=n.n(Fe),We=(n(404),Object(Ie.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),Ge=function(e){var t=Object(S.useSelector)(function(e){return e.tournaments.tournaments}),n=We();return t?t.map(function(e){return o.a.createElement(Ae.a,{key:"id_"+e.id},o.a.createElement(Pe.a,{expandIcon:o.a.createElement(qe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(C.a,{className:n.heading},e.title)),o.a.createElement(Le.a,null,"no info"))}):null},He=(Object(f.g)(Ge),n(405),K()(function(e){return{root:{display:"flex",flexWrap:"wrap"},appBar:{display:"flex",flexDirection:"row",padding:"0px 0px 0px 250px",justifyContent:"space-between"},toolbar:{display:"flex"},toolbarText:Object(x.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},content:{flexGrow:1,padding:"0px",height:"100vh",marginTop:"64px",overflow:"auto"}}})),ze=Object(f.g)(function(e){var t=He(),n=Object(S.useDispatch)(),a=Object(S.useSelector)(function(e){return e.sportsCategory.choiceCategory})?o.a.createElement(Ge,null):null;Object(r.useEffect)(function(){return n(function(e){e(ve(!0)),M.get("/api/sports").then(function(t){e({type:"CATEGORY_SPORTS_FETCHED",payload:t})}).catch(function(e){return D.toastr.error("Error",e)}).finally(function(){e(ve(!1))})})},[n]);return o.a.createElement("div",{className:t.root},o.a.createElement(ae.a,{className:ue()(t.appBar)},o.a.createElement("div",{className:"sidebar-wrapper"},o.a.createElement(Ce,null)),o.a.createElement(re.a,{className:t.toolbar},o.a.createElement(ce.a,{onClick:function(){window.localStorage.clear(),window.location.reload()},color:"inherit",alt:"Log out"},o.a.createElement(se.a,null)))),o.a.createElement(ne.a,{variant:"permanent",classes:{paper:ue()(t.drawerPaper)}},o.a.createElement("div",{className:t.toolbarText},"Hello!"),o.a.createElement(oe.a,null),a,o.a.createElement(oe.a,null)),o.a.createElement("main",{className:t.content},o.a.createElement("div",{className:t.appBarSpacer}),o.a.createElement(De,null)))}),Me=function(e){var t=e.component,n=e.authenticated,a=Object(d.a)(e,["component","authenticated"]);return o.a.createElement(f.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(f.a,{to:"/login"})}}))},Be=Object(f.g)(Object(S.connect)(function(e){return{currentUser:e.users.currentUser}})(function(e){var t=e.currentUser;return o.a.createElement(f.d,null,o.a.createElement(f.b,{path:"/login",component:te}),o.a.createElement(Me,{path:"/",component:ze,authenticated:!!t}))})),Ye=n(463),Ve=function(e){return o.a.createElement(I.a,{timeOut:5e3,newestOnTop:!0,preventDuplicates:!0,position:"bottom-left",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0})},Je=n(218),Xe=n(236),$e=n(90),Ke=n.n($e),Qe=n(89),Ze=n.n(Qe),et=Object(Xe.a)({palette:{type:"dark",primary:{light:Ke.a[300],main:Ke.a[700],dark:Ke.a[800]},secondary:{light:Ze.a[300],main:Ze.a[700],dark:Ze.a[800]}},overrides:{MuiTableBody:{root:{fontSize:12}},MuiTableCell:{root:{fontSize:"inherit"}}}}),tt=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){return this.props.isCurrentUserLoading?o.a.createElement(Je.a,{theme:et},o.a.createElement(Z,null)):o.a.createElement(Je.a,{theme:et},o.a.createElement(Ye.a,null),o.a.createElement(Be,null),o.a.createElement(Ve,null))}}]),t}(r.Component),nt=Object(f.g)(Object(S.connect)(function(e){return{currentUser:e.users.currentUser,isCurrentUserLoading:e.users.isCurrentUserLoading}},function(e){return{getCurrentUser:function(){return e(a.getCurrentUser())}}})(tt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at=n(51),rt={sportsCategory:null,isSportsCategoryLoading:!0,choiceCategory:null},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORY_SPORTS_FETCHED":return Object(x.a)({},e,{sportsCategory:t.payload});case"CATEGORY_SPORTS_LOADING":return Object(x.a)({},e,{isSportsCategoryLoading:t.payload});case"CATEGORY_SPORTS_CHOICE":return Object(x.a)({},e,{choiceCategory:t.payload});default:return Object(x.a)({},e)}},ct={tournaments:null,isTournamentsLoading:!0,activeTournament:null},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOURNAMENTS_FETCHED":return Object(x.a)({},e,{tournaments:t.payload});case"TOURNAMENTS_LOADING":return Object(x.a)({},e,{isTournamentsLoading:t.payload});case"TOURNAMENT_CHOICE":return Object(x.a)({},e,{activeTournament:t.payload});default:return Object(x.a)({},e)}},ut=Object(at.c)({users:J,sportsCategory:ot,tournaments:it,toastr:D.reducer}),lt=n(235),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||at.d,mt=Object(at.e)(ut,st(Object(at.a)(lt.a)));i.a.render(o.a.createElement(S.Provider,{store:mt},o.a.createElement(be.a,null,o.a.createElement(nt,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[243,1,2]]]);
//# sourceMappingURL=main.2d8cfe6c.chunk.js.map